<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets" 
                xmlns="http://www.w3.org/1999/xhtml"
                template="../templates/MainTemplate.xhtml"
                xmlns:b="http://bootsfaces.net/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core">

    <ui:define name="top">
        <b:container>
            <b:row style="background: thistle">
                <h1 align="center" style="color: black">${msg['category.create']}</h1>
            </b:row>
        </b:container>
    </ui:define>

    <ui:define name="left">
        <ui:include src="../templates/menu.xhtml" />
    </ui:define>

    <ui:define name="content">
        <b:container>
            <b:form id="createCategoryForm">

                ${msg['category.name']} *: <b:inputText id="name" value="#{createCategoryBean.newCategory.categoryName}" required="true"/><br/>
                <b:messages for="name" class="error" errorStyle="color:red"/>
                ${msg['category.demandedAnalysis']} *: <br/>
                <b:dataTable id="demandedAnalysis" value="#{createCategoryBean.listAnalysisDTO}" var="demandedAnalysis" 
                             lengthChange="false" searching="false" paginated="false" info="false" >
                    <b:dataTableColumn label = "${msg['category.analysisName']}" value="#{demandedAnalysis.name}"/>
                    <b:dataTableColumn label ="${msg['category.isRequired']}">
                        <b:selectBooleanCheckbox value="#{demandedAnalysis.selected}"/>
                    </b:dataTableColumn>
                </b:dataTable>
                <b:messages for="demandedAnalysis" class="error" errorStyle="color:red"/>
                <b:commandButton value="${msg['action.create']}" action="#{createCategoryBean.createCategory()}" />
                <b:commandButton value="${msg['action.cancel']}" action="#{createCategoryBean.abort()}" immediate="true"/>
            </b:form>
        </b:container>
    </ui:define>
</ui:composition>
